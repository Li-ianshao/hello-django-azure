<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Stock Table</title>
  <style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 30px;
        background-color: #f5f7fa;
    }

    /* Ê¢ù‰ª∂ÂºèÊ®£Âºè */
    .rsi-high {
        background-color: #ffd6d6 !important;  /* Ê∑°Á¥ÖËâ≤ */
        color: #a80000;
        font-weight: bold;
    }

    .rsi-low {
        background-color: #d6ecff !important;  /* Ê∑°ËóçËâ≤ */
        color: #004f9e;
        font-weight: bold;
    }

    .no-dividend {
        background-color: #eeeeee !important;
        color: #999;
    }

    .high-volume {
        background-color: #e2f7e2 !important;  /* Ê∑°Á∂†Ëâ≤ */
        font-weight: bold;
    }

    /* Âü∫Êú¨Ê®£Âºè */

    h2 {
        text-align: center;
        color: #333;
        margin-bottom: 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }

    th, td {
        border: 1px solid #ddd;
        padding: 12px 16px;
        text-align: center;
    }

    th {
        background-color: #007acc;
        color: white;
        font-weight: bold;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    tr:hover {
        background-color: #e8f4fd;
    }

  </style>
</head>
<body>
  <form action="{% url 'logout' %}" method="post">
      {% csrf_token %}
      <button type="submit">ÁôªÂá∫</button>
  </form>
  <h2 style="text-align: center;">üìà Stock Overview</h2>
  <table>
    <thead>
      <tr>
        <th>Ticker</th>
        <th>Close</th>
        <th>volume</th>
        <th>dividend</th>
        <th>dividend_date</th>
        <th>RSI</th>
      </tr>
    </thead>
    <tbody>
      {% for s in stocks %}
      <tr>
          <td>{{ s.symbol }}</td>

          <td>{{ s.close }}</td>

          <td title="{% if s.volume > 100000000 %}È´òÊàê‰∫§Èáè{% else %}Ê≠£Â∏∏Êàê‰∫§Èáè{% endif %}"
              class="{% if s.volume|default:0 > 100000000 %}high-volume{% endif %}">
              {{ s.volume }}
          </td>

          <td title="{% if not s.dividend or s.dividend == 0 or s.dividend == 'N/A' %}Ê≠§ËÇ°Á•®‰∏çÈÖçÊÅØ{% else %}ÈÖçÊÅØ‰∏≠{% endif %}"
              class="{% if not s.dividend or s.dividend == 0 %}no-dividend{% endif %}">
              {{ s.dividend }}
          </td>

          <td title="{% if s.dividend_date == 'N/A' %}ÁÑ°ÂèØÁî®ÈÖçÊÅØÊó•Ë≥áÊñô{% else %}ÈÖçÊÅØÊó• (ex-dividend date){% endif %}">
              {{ s.dividend_date }}
          </td>

          <td title="{% if s.rsi != 'N/A' %}
                      {% if s.rsi > 70 %}
                          RSI ÈÅéÁÜ± (>70)
                      {% elif s.rsi < 30 %}
                          RSI Ë∂ÖË∑å (<30)
                      {% else %}
                          RSI Ê≠£Â∏∏ÁØÑÂúç
                      {% endif %}
                    {% else %}
                        ÁÑ° RSI Ë≥áÊñô
                    {% endif %}"
              class="
                  {% if s.rsi != 'N/A' %}
                      {% if s.rsi > 70 %}
                          rsi-high
                      {% elif s.rsi < 30 %}
                          rsi-low
                      {% endif %}
                  {% endif %}
              ">
              {{ s.rsi }}
          </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
